!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(self.webpackChunkxtreme_admin_angular=self.webpackChunkxtreme_admin_angular||[]).push([[834],{9834:function(t,n,r){"use strict";r.r(n),r.d(n,{StarterModule:function(){return Z}});var s=r(1511),a=r(6073),o=r(9464),u=r(2132),l=r(1572),c=r(9996),d=r(9063),h=function(){var t=function(){function t(i){e(this,t),this.http=i}return i(t,[{key:"devolverProyecto",value:function(){return"http://192.168.20.253:8080/SFSFrameworkRest/api/framework/dina"}},{key:"login",value:function(e,t){return console.log("Permitido en el Authentication service"),this.http.get("".concat(this.devolverProyecto(),"/login/").concat(e,"/").concat(t,"/configura"))}},{key:"consultarAbmGeneric",value:function(e,t){return t.dataSource=e.datasource,t.username=e.username,t.webServicesAddress=e.webservice,t.modelPackage=e.packageModel,t.idUsuarioUra=e.idUsuarioUra,this.http.post("".concat(this.devolverProyecto(),"/consultarDatosBusquedaGenerica/"),t).pipe((0,c.U)(function(e){return e}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(d.eN))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),f=r(269),v=["videoPlayer"];function g(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"th",10),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.qZA()),2&e){var i=t.$implicit,n=t.index;l.xp6(2),l.Oqu(n),l.xp6(2),l.Oqu(i[0].value),l.xp6(2),l.Oqu(i[1].value)}}function p(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",11),l.TgZ(1,"video",12,13),l.NdJ("ended",function(){return l.CHM(i),l.oxw().nextVideo()}),l._UZ(3,"source",14),l._uU(4," Your browser does not support the HTML5 Video element. "),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Q6J("src",n.src,l.LSH)}}var m=function(){var t=function(){function t(i,n){e(this,t),this.reportdefService=i,this.sanitizer=n,this.activeIndex=0,this.everyFiveSeconds=(0,u.H)(0,1e4),this.everyTenMinutes=(0,u.H)(0,6e5),this.type="video/mp4",this.cargado=!1,this.subtitle="This is some text within a card block."}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.videos=[],localStorage.removeItem("currentUser");var t=JSON.parse(localStorage.getItem("usuario"));console.log("usuario"),console.log(t),this.reportdefService.login(t.user,t.pass).subscribe(function(t){e.user=t,localStorage.setItem("currentUser",JSON.stringify(e.user)),e.subscription2=e.everyTenMinutes.subscribe(function(){console.log("traigo videos cada 10 minutos"),e.consultarVideos(e.putDataFinder("devuelveVideos"))},function(e){console.log(e)}),e.subscription=e.everyFiveSeconds.subscribe(function(){console.log("traigo los datos turno cada 10 segundos"),e.consultarTurnos(e.putDataFinder("devuelveTurnero"))},function(e){console.log(e)})})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"consultarTurnos",value:function(e){var t=this;this.reportdefService.consultarAbmGeneric(this.user,e).subscribe(function(e){console.log("trajo los turnos"),t.data=e.data},function(e){console.log(e)})}},{key:"consultarVideos",value:function(e){var t=this;this.reportdefService.consultarAbmGeneric(this.user,e).subscribe(function(e){if(console.log("trajo los videos"),e.data.length>0){for(var i=0;i<e.data.length;i++)t.devuelveUrl(e.data[i][1].value);t.cargado=!0,void 0===t.currentVideo&&t.startPlaylistVdo(0,t.videos[0])}},function(e){console.log(e)})}},{key:"devuelveUrl",value:function(e){for(var t=window.atob(e),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);var s=new Blob([n]),a=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(s));this.videos.push(a)}},{key:"devuelveUrl2",value:function(e){this.videos.push(e)}},{key:"putDataFinder",value:function(e){var t={};t.methodName=e,t.typeMethodFinder=!0;var i={},n=[];return n.push({valueNew:362,value:362,name:"p1",type:"java.lang.Long",entity:!1,entero:!0}),i.parametrosFinderMetodo=n,t.finderGenericDTO=i,t}},{key:"ngAfterViewInit",value:function(){}},{key:"videoPlayerInit",value:function(e){this.dataVideo=e,this.dataVideo.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.initVdo.bind(this)),this.dataVideo.getDefaultMedia().subscriptions.ended.subscribe(this.nextVideo.bind(this))}},{key:"nextVideo",value:function(){this.activeIndex++,this.activeIndex===this.videos.length&&(this.activeIndex=0),this.currentVideo=this.videos[this.activeIndex],this.src=this.currentVideo,this.videoplayer.nativeElement.load(),this.videoplayer.nativeElement.play()}},{key:"initVdo",value:function(){this.dataVideo.play()}},{key:"startPlaylistVdo",value:function(e,t){this.activeIndex=e,this.currentVideo=t,this.src=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(h),l.Y36(f.H7))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(e,t){var i;(1&e&&l.Gf(v,5),2&e)&&(l.iGM(i=l.CRH())&&(t.videoplayer=i.first))},decls:21,vars:2,consts:[[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","table-info"],[1,"bg-info","text-white"],["scope","col"],[4,"ngFor","ngForOf"],["class","video-player-wrapper",4,"ngIf"],["scope","row"],[1,"video-player-wrapper"],["muted","","autoplay","","oncanplay","this.play()","onloadedmetadata","this.muted = true","controls","controls","width","600px","height","600px",3,"ended"],["videoPlayer",""],["type","video/mp4",3,"src"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",2),l.TgZ(5,"div",4),l.TgZ(6,"table",5),l.TgZ(7,"thead",6),l.TgZ(8,"tr"),l.TgZ(9,"th",7),l._uU(10,"#"),l.qZA(),l.TgZ(11,"th",7),l._uU(12,"Codigo"),l.qZA(),l.TgZ(13,"th",7),l._uU(14,"Lugar"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"tbody"),l.YNc(16,g,7,3,"tr",8),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",1),l.TgZ(18,"div",2),l.TgZ(19,"div",3),l.YNc(20,p,5,1,"div",9),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(16),l.Q6J("ngForOf",t.data),l.xp6(4),l.Q6J("ngIf",t.cargado))},directives:[s.sg,s.O5],encapsulation:2}),t}(),y=r(5959),k=r(7254);r(8318),r(1305);var b,A,w,T=function(){var t=function t(){e(this,t)};return t.VG_ENDED="ended",t.VG_PAUSED="paused",t.VG_PLAYING="playing",t.VG_LOADING="waiting",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),E=function(){var t=function(){function t(){e(this,t),this.medias={},this.playerReadyEvent=new l.vpe(!0),this.isPlayerReady=!1}return i(t,[{key:"onPlayerReady",value:function(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}},{key:"getDefaultMedia",value:function(){for(var e in this.medias)if(this.medias[e])return this.medias[e]}},{key:"getMasterMedia",value:function(){var e;for(var t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=this.medias[t];break}return e||this.getDefaultMedia()}},{key:"isMasterDefined",value:function(){var e=!1;for(var t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=!0;break}return e}},{key:"getMediaById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.medias[e];return e&&"*"!==e||(t=this),t}},{key:"play",value:function(){for(var e in this.medias)this.medias[e]&&this.medias[e].play()}},{key:"pause",value:function(){for(var e in this.medias)this.medias[e]&&this.medias[e].pause()}},{key:"duration",get:function(){return this.$$getAllProperties("duration")}},{key:"currentTime",get:function(){return this.$$getAllProperties("currentTime")},set:function(e){this.$$setAllProperties("currentTime",e)}},{key:"state",get:function(){return this.$$getAllProperties("state")},set:function(e){this.$$setAllProperties("state",e)}},{key:"volume",get:function(){return this.$$getAllProperties("volume")},set:function(e){this.$$setAllProperties("volume",e)}},{key:"playbackRate",get:function(){return this.$$getAllProperties("playbackRate")},set:function(e){this.$$setAllProperties("playbackRate",e)}},{key:"canPlay",get:function(){return this.$$getAllProperties("canPlay")}},{key:"canPlayThrough",get:function(){return this.$$getAllProperties("canPlayThrough")}},{key:"isMetadataLoaded",get:function(){return this.$$getAllProperties("isMetadataLoaded")}},{key:"isWaiting",get:function(){return this.$$getAllProperties("isWaiting")}},{key:"isCompleted",get:function(){return this.$$getAllProperties("isCompleted")}},{key:"isLive",get:function(){return this.$$getAllProperties("isLive")}},{key:"isMaster",get:function(){return this.$$getAllProperties("isMaster")}},{key:"time",get:function(){return this.$$getAllProperties("time")}},{key:"buffer",get:function(){return this.$$getAllProperties("buffer")}},{key:"buffered",get:function(){return this.$$getAllProperties("buffered")}},{key:"subscriptions",get:function(){return this.$$getAllProperties("subscriptions")}},{key:"textTracks",get:function(){return this.$$getAllProperties("textTracks")}},{key:"seekTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var i in this.medias)this.medias[i]&&this.$$seek(this.medias[i],e,t)}},{key:"$$seek",value:function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.duration;n?(this.isMasterDefined()&&(r=this.getMasterMedia().duration),i=t*r/100):i=t,e.currentTime=i}},{key:"addTextTrack",value:function(e,t,i){for(var n in this.medias)this.medias[n]&&this.$$addTextTrack(this.medias[n],e,t,i)}},{key:"$$addTextTrack",value:function(e,t,i,n){e.addTextTrack(t,i,n)}},{key:"$$getAllProperties",value:function(e){var t,i={};for(var n in this.medias)this.medias[n]&&(i[n]=this.medias[n]);switch(Object.keys(i).length){case 0:switch(e){case"state":t=T.VG_PAUSED;break;case"playbackRate":case"volume":t=1;break;case"time":t={current:0,total:0,left:0}}break;case 1:t=i[Object.keys(i)[0]][e];break;default:t=i[this.getMasterMedia().id][e]}return t}},{key:"$$setAllProperties",value:function(e,t){for(var i in this.medias)this.medias[i]&&(this.medias[i][e]=t)}},{key:"registerElement",value:function(e){this.videogularElement=e}},{key:"registerMedia",value:function(e){this.medias[e.id]=e}},{key:"unregisterMedia",value:function(e){delete this.medias[e.id]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),S=function(){var t=function(){function t(){e(this,t),this.isHiddenSubject=new y.xQ,this.isHidden=this.isHiddenSubject.asObservable()}return i(t,[{key:"state",value:function(e){this.isHiddenSubject.next(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),P=function(){var t=function(){function t(){e(this,t)}return i(t,null,[{key:"getZIndex",value:function(){for(var e,t=1,i=document.getElementsByTagName("*"),n=0,r=i.length;n<r;n++)(e=parseInt(window.getComputedStyle(i[n])["z-index"],10))>t&&(t=e+1);return t}},{key:"isMobileDevice",value:function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"isiOSDevice",value:function(){return(navigator.userAgent.match(/ip(hone|ad|od)/i)||t.isIpadOS())&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}},{key:"isIpadOS",value:function(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}},{key:"isCordova",value:function(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),_=[E,S,(A=function(){function t(){e(this,t),this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new l.vpe}return i(t,[{key:"init",value:function(e,t){var i=this;this.videogularElement=e,this.medias=t;var n={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var r in n)if(n[r].enabled in document){this.polyfill=n[r];break}if(P.isiOSDevice()&&(this.polyfill=n.ios),this.isAvailable=null!=this.polyfill,null!=this.polyfill){var s;switch(this.polyfill.onchange){case"mozfullscreenchange":s=document;break;case"webkitendfullscreen":s=this.medias.toArray()[0].elem;break;default:s=e}this.fsChangeSubscription=(0,k.R)(s,this.polyfill.onchange).subscribe(function(){i.onFullscreenChange()})}}},{key:"onFullscreenChange",value:function(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}},{key:"toggleFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isFullscreen?this.exit():this.request(e)}},{key:"request",value:function(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(P.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||P.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}},{key:"enterElementInFullScreen",value:function(e){e[this.polyfill.request]()}},{key:"exit",value:function(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}]),t}(),A.\u0275fac=function(e){return new(e||A)},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A),P,(b=function t(){e(this,t)},b.VG_ABORT="abort",b.VG_CAN_PLAY="canplay",b.VG_CAN_PLAY_THROUGH="canplaythrough",b.VG_DURATION_CHANGE="durationchange",b.VG_EMPTIED="emptied",b.VG_ENCRYPTED="encrypted",b.VG_ENDED="ended",b.VG_ERROR="error",b.VG_LOADED_DATA="loadeddata",b.VG_LOADED_METADATA="loadedmetadata",b.VG_LOAD_START="loadstart",b.VG_PAUSE="pause",b.VG_PLAY="play",b.VG_PLAYING="playing",b.VG_PROGRESS="progress",b.VG_RATE_CHANGE="ratechange",b.VG_SEEK="seek",b.VG_SEEKED="seeked",b.VG_SEEKING="seeking",b.VG_STALLED="stalled",b.VG_SUSPEND="suspend",b.VG_TIME_UPDATE="timeupdate",b.VG_VOLUME_CHANGE="volumechange",b.VG_WAITING="waiting",b.VG_LOAD="load",b.VG_ENTER="enter",b.VG_EXIT="exit",b.VG_START_ADS="startads",b.VG_END_ADS="endads",b.\u0275fac=function(e){return new(e||b)},b.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b),T],F=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[].concat(_),imports:[[s.ez]]}),t}(),V=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.ez,F]]}),t}(),$=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.ez,F]]}),t}(),x=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.ez,F]]}),t}(),G=[{path:"",data:{title:"Starter Page",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Starter Page"}]},component:m}],Z=((w=function t(){e(this,t)}).\u0275fac=function(e){return new(e||w)},w.\u0275mod=l.oAB({type:w}),w.\u0275inj=l.cJS({imports:[[a.u5,s.ez,F,V,$,x,o.Bz.forChild(G)]]}),w)}}])}();