(self.webpackChunkxtreme_admin_angular=self.webpackChunkxtreme_admin_angular||[]).push([[834],{9834:function(e,t,i){"use strict";i.r(t),i.d(t,{StarterModule:function(){return _}});var s=i(1511),r=i(6073),n=i(9464),a=i(2132),o=i(1572),l=i(9996),c=i(9063);let u=(()=>{class e{constructor(e){this.http=e}devolverProyecto(){return"https://online1.sfssa.com.ar/SFSFrameworkRest/api/framework/dina"}login(e,t){return console.log("Permitido en el Authentication service"),this.http.get(`${this.devolverProyecto()}/login/${e}/${t}/configura`)}consultarAbmGeneric(e,t){return t.dataSource=e.datasource,t.username=e.username,t.webServicesAddress=e.webservice,t.modelPackage=e.packageModel,t.idUsuarioUra=e.idUsuarioUra,this.http.post(`${this.devolverProyecto()}/consultarDatosBusquedaGenerica/`,t).pipe((0,l.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(c.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=i(269);const h=["videoPlayer"];function g(e,t){if(1&e&&(o.TgZ(0,"tr"),o.TgZ(1,"th",10),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=t.index;o.xp6(2),o.Oqu(i),o.xp6(2),o.Oqu(e[0].value),o.xp6(2),o.Oqu(e[1].value)}}function p(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",11),o.TgZ(1,"video",12,13),o.NdJ("ended",function(){return o.CHM(e),o.oxw().nextVideo()}),o._UZ(3,"source",14),o._uU(4," Your browser does not support the HTML5 Video element. "),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.Q6J("src",e.src,o.LSH)}}let m=(()=>{class e{constructor(e,t){this.reportdefService=e,this.sanitizer=t,this.activeIndex=0,this.everyFiveSeconds=(0,a.H)(0,1e4),this.everyTenMinutes=(0,a.H)(0,6e5),this.type="video/mp4",this.cargado=!1,this.subtitle="This is some text within a card block."}ngOnInit(){this.videos=[],localStorage.removeItem("currentUser");const e=JSON.parse(localStorage.getItem("usuario"));console.log("usuario"),console.log(e),this.reportdefService.login(e.user,e.pass).subscribe(e=>{this.user=e,localStorage.setItem("currentUser",JSON.stringify(this.user)),this.subscription2=this.everyTenMinutes.subscribe(()=>{console.log("traigo videos cada 10 minutos"),this.consultarVideos(this.putDataFinder("devuelveVideos"))},e=>{console.log(e)}),this.subscription=this.everyFiveSeconds.subscribe(()=>{console.log("traigo los datos turno cada 10 segundos"),this.consultarTurnos(this.putDataFinder("devuelveTurnero"))},e=>{console.log(e)})})}ngOnDestroy(){this.subscription.unsubscribe()}consultarTurnos(e){this.reportdefService.consultarAbmGeneric(this.user,e).subscribe(e=>{console.log("trajo los turnos"),this.data=e.data},e=>{console.log(e)})}consultarVideos(e){this.reportdefService.consultarAbmGeneric(this.user,e).subscribe(e=>{if(console.log("trajo los videos"),e.data.length>0){for(let t=0;t<e.data.length;t++)this.devuelveUrl(e.data[t][1].value);this.cargado=!0,void 0===this.currentVideo&&this.startPlaylistVdo(0,this.videos[0])}},e=>{console.log(e)})}devuelveUrl(e){const t=window.atob(e),i=new ArrayBuffer(t.length),s=new Uint8Array(i);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);const r=new Blob([s]),n=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(r));this.videos.push(n)}devuelveUrl2(e){this.videos.push(e)}putDataFinder(e){const t={};t.methodName=e,t.typeMethodFinder=!0;const i={},s=[];return s.push({valueNew:362,value:362,name:"p1",type:"java.lang.Long",entity:!1,entero:!0}),i.parametrosFinderMetodo=s,t.finderGenericDTO=i,t}ngAfterViewInit(){}videoPlayerInit(e){this.dataVideo=e,this.dataVideo.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.initVdo.bind(this)),this.dataVideo.getDefaultMedia().subscriptions.ended.subscribe(this.nextVideo.bind(this))}nextVideo(){this.activeIndex++,this.activeIndex===this.videos.length&&(this.activeIndex=0),this.currentVideo=this.videos[this.activeIndex],this.src=this.currentVideo,this.videoplayer.nativeElement.load(),this.videoplayer.nativeElement.play()}initVdo(){this.dataVideo.play()}startPlaylistVdo(e,t){this.activeIndex=e,this.currentVideo=t,this.src=t}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(u),o.Y36(d.H7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&o.Gf(h,5),2&e){let e;o.iGM(e=o.CRH())&&(t.videoplayer=e.first)}},decls:21,vars:2,consts:[[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","table-info"],[1,"bg-info","text-white"],["scope","col"],[4,"ngFor","ngForOf"],["class","video-player-wrapper",4,"ngIf"],["scope","row"],[1,"video-player-wrapper"],["muted","","autoplay","","oncanplay","this.play()","onloadedmetadata","this.muted = true","controls","controls","width","600px","height","600px",3,"ended"],["videoPlayer",""],["type","video/mp4",3,"src"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",2),o.TgZ(5,"div",4),o.TgZ(6,"table",5),o.TgZ(7,"thead",6),o.TgZ(8,"tr"),o.TgZ(9,"th",7),o._uU(10,"#"),o.qZA(),o.TgZ(11,"th",7),o._uU(12,"Codigo"),o.qZA(),o.TgZ(13,"th",7),o._uU(14,"Lugar"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"tbody"),o.YNc(16,g,7,3,"tr",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",1),o.TgZ(18,"div",2),o.TgZ(19,"div",3),o.YNc(20,p,5,1,"div",9),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(16),o.Q6J("ngForOf",t.data),o.xp6(4),o.Q6J("ngIf",t.cargado))},directives:[s.sg,s.O5],encapsulation:2}),e})();var f=i(5959),v=i(7254);i(8318),i(1305);let b=(()=>{class e{}return e.VG_ENDED="ended",e.VG_PAUSED="paused",e.VG_PLAYING="playing",e.VG_LOADING="waiting",e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),A=(()=>{class e{constructor(){this.medias={},this.playerReadyEvent=new o.vpe(!0),this.isPlayerReady=!1}onPlayerReady(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}getDefaultMedia(){for(const e in this.medias)if(this.medias[e])return this.medias[e]}getMasterMedia(){let e;for(const t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=this.medias[t];break}return e||this.getDefaultMedia()}isMasterDefined(){let e=!1;for(const t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=!0;break}return e}getMediaById(e=null){let t=this.medias[e];return e&&"*"!==e||(t=this),t}play(){for(const e in this.medias)this.medias[e]&&this.medias[e].play()}pause(){for(const e in this.medias)this.medias[e]&&this.medias[e].pause()}get duration(){return this.$$getAllProperties("duration")}set currentTime(e){this.$$setAllProperties("currentTime",e)}get currentTime(){return this.$$getAllProperties("currentTime")}set state(e){this.$$setAllProperties("state",e)}get state(){return this.$$getAllProperties("state")}set volume(e){this.$$setAllProperties("volume",e)}get volume(){return this.$$getAllProperties("volume")}set playbackRate(e){this.$$setAllProperties("playbackRate",e)}get playbackRate(){return this.$$getAllProperties("playbackRate")}get canPlay(){return this.$$getAllProperties("canPlay")}get canPlayThrough(){return this.$$getAllProperties("canPlayThrough")}get isMetadataLoaded(){return this.$$getAllProperties("isMetadataLoaded")}get isWaiting(){return this.$$getAllProperties("isWaiting")}get isCompleted(){return this.$$getAllProperties("isCompleted")}get isLive(){return this.$$getAllProperties("isLive")}get isMaster(){return this.$$getAllProperties("isMaster")}get time(){return this.$$getAllProperties("time")}get buffer(){return this.$$getAllProperties("buffer")}get buffered(){return this.$$getAllProperties("buffered")}get subscriptions(){return this.$$getAllProperties("subscriptions")}get textTracks(){return this.$$getAllProperties("textTracks")}seekTime(e,t=!1){for(const i in this.medias)this.medias[i]&&this.$$seek(this.medias[i],e,t)}$$seek(e,t,i=!1){let s,r=e.duration;i?(this.isMasterDefined()&&(r=this.getMasterMedia().duration),s=t*r/100):s=t,e.currentTime=s}addTextTrack(e,t,i){for(const s in this.medias)this.medias[s]&&this.$$addTextTrack(this.medias[s],e,t,i)}$$addTextTrack(e,t,i,s){e.addTextTrack(t,i,s)}$$getAllProperties(e){const t={};let i;for(const s in this.medias)this.medias[s]&&(t[s]=this.medias[s]);switch(Object.keys(t).length){case 0:switch(e){case"state":i=b.VG_PAUSED;break;case"playbackRate":case"volume":i=1;break;case"time":i={current:0,total:0,left:0}}break;case 1:i=t[Object.keys(t)[0]][e];break;default:i=t[this.getMasterMedia().id][e]}return i}$$setAllProperties(e,t){for(const i in this.medias)this.medias[i]&&(this.medias[i][e]=t)}registerElement(e){this.videogularElement=e}registerMedia(e){this.medias[e.id]=e}unregisterMedia(e){delete this.medias[e.id]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),y=(()=>{class e{constructor(){this.isHiddenSubject=new f.xQ,this.isHidden=this.isHiddenSubject.asObservable()}state(e){this.isHiddenSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w=(()=>{class e{static getZIndex(){let e,t=1;const i=document.getElementsByTagName("*");for(let s=0,r=i.length;s<r;s++)e=parseInt(window.getComputedStyle(i[s])["z-index"],10),e>t&&(t=e+1);return t}static isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}static isiOSDevice(){return(navigator.userAgent.match(/ip(hone|ad|od)/i)||e.isIpadOS())&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}static isIpadOS(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}static isCordova(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const T=[A,y,(()=>{class e{constructor(){this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new o.vpe}init(e,t){this.videogularElement=e,this.medias=t;const i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(const r in i)if(i[r].enabled in document){this.polyfill=i[r];break}if(w.isiOSDevice()&&(this.polyfill=i.ios),this.isAvailable=null!=this.polyfill,null==this.polyfill)return;let s;switch(this.polyfill.onchange){case"mozfullscreenchange":s=document;break;case"webkitendfullscreen":s=this.medias.toArray()[0].elem;break;default:s=e}this.fsChangeSubscription=(0,v.R)(s,this.polyfill.onchange).subscribe(()=>{this.onFullscreenChange()})}onFullscreenChange(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}toggleFullscreen(e=null){this.isFullscreen?this.exit():this.request(e)}request(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(w.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||w.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}enterElementInFullScreen(e){e[this.polyfill.request]()}exit(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w,(()=>{class e{}return e.VG_ABORT="abort",e.VG_CAN_PLAY="canplay",e.VG_CAN_PLAY_THROUGH="canplaythrough",e.VG_DURATION_CHANGE="durationchange",e.VG_EMPTIED="emptied",e.VG_ENCRYPTED="encrypted",e.VG_ENDED="ended",e.VG_ERROR="error",e.VG_LOADED_DATA="loadeddata",e.VG_LOADED_METADATA="loadedmetadata",e.VG_LOAD_START="loadstart",e.VG_PAUSE="pause",e.VG_PLAY="play",e.VG_PLAYING="playing",e.VG_PROGRESS="progress",e.VG_RATE_CHANGE="ratechange",e.VG_SEEK="seek",e.VG_SEEKED="seeked",e.VG_SEEKING="seeking",e.VG_STALLED="stalled",e.VG_SUSPEND="suspend",e.VG_TIME_UPDATE="timeupdate",e.VG_VOLUME_CHANGE="volumechange",e.VG_WAITING="waiting",e.VG_LOAD="load",e.VG_ENTER="enter",e.VG_EXIT="exit",e.VG_START_ADS="startads",e.VG_END_ADS="endads",e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),b];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[...T],imports:[[s.ez]]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,E]]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,E]]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,E]]}),e})();const P=[{path:"",data:{title:"Starter Page",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Starter Page"}]},component:m}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.u5,s.ez,E,k,S,$,n.Bz.forChild(P)]]}),e})()}}]);